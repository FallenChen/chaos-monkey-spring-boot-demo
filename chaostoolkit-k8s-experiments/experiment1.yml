      {
      "version": "1.0.0",
      "title": "Pod should be automatically killed and restarted when unhealthy",
      "description": "Can we trust Kubernetes to restart our microservice when it detects it is unhealthy?",
      "tags": [
        "microservice",
        "kubernetes",
        "python"
      ],
      "steady-state-hypothesis": {
        "title": "Services are all available and healthy",
        "probes": [
        {
          "type": "probe",
          "name": "all-services-are-healthy",
          "tolerance": true,
          "provider": {
            "type": "python",
            "module": "chaosk8s.probes",
            "func": "all_microservices_healthy",
            "arguments": {
              "ns": "shoppingdemo"
            }
          }
        },
        {
          "type": "probe",
          "name": "gateway-is-available",
          "tolerance": true,
          "provider": {
            "type": "python",
            "module": "chaosk8s.probes",
            "func": "microservice_available_and_healthy",
            "arguments": {
              "name": "gateway",
              "ns": "shoppingdemo",
              "label_selector": "app=shoppingdemo"
            }
          }
        }
        ]
      },
      "method": [
      {
        "type": "action",
        "name": "talk-to-gateway",
        "background": true,
        "provider": {
          "type": "process",
          "path": "vegeta",
          "timeout": 63,
          "arguments": {
            "attack": "",
            "-duration": "60s",
            "-connections": "1",
            "-rate": "1",
            "-output": "report.bin",
            "-targets": "urls.txt"
          }
        }
      },
      {
        "type": "probe",
        "name": "read-gateway-logs-for-the-pod-that-was-killed",
        "provider": {
          "type": "python",
          "module": "chaosk8s.probes",
          "func": "read_microservices_logs",
          "arguments": {
            "name": "gateway",
            "from_previous": true
          }
        }
      },
      {
        "type": "probe",
        "name": "read-gateway-logs-for-pod-that-was-started",
        "provider": {
          "type": "python",
          "module": "chaosk8s.probes",
          "func": "read_microservices_logs",
          "arguments": {
            "name": "gateway"
          }
        }
      },
      {
        "type": "probe",
        "name": "plot-request-latency-throughout-experiment",
        "provider": {
          "type": "process",
          "path": "vegeta",
          "timeout": 5,
          "arguments": {
            "report": "",
            "-inputs": "report.bin",
            "-reporter": "plot",
            "-output": "latency.html"
          }
        },
        "pauses": {
          "before": 5
        }
      }
      ],
      "rollbacks": [

      ]
    }